/* ======================================================================
   FashionStar Wiki — extra.css (Engineered & Maintainable)
   Author: (you + me)
   Purpose:
     - Keep mobile TOC drawer behavior stable
     - Keep primary brand color (#8641A9) + active indicator bar
     - Keep TOC active style (highlight + bold)
     - Fix ONLY the drawer title vertical centering
   Notes:
     - Do NOT add random patch blocks at bottom anymore.
     - Only add styles inside the corresponding section below.
   ====================================================================== */


/* ======================================================================
   0) Tokens / Variables (ONLY place to change theme colors)
   ====================================================================== */
:root {
  --fs-primary: #8641A9;                    /* brand purple */
  --fs-primary-soft: rgba(134, 65, 169, .12);
  --fs-text: #444746;
  --fs-radius: 4px;

  /* common sizes */
  --fs-header-h: 56px;
  --fs-row-h: 44px;

  /* indicator */
  --fs-active-bar-w: 4px;                  /* left sidebar bar width */
  --fs-toc-bar-w: 3px;                     /* TOC bar width */
}


/* ======================================================================
   1) Safety rails (DO NOT TOUCH unless you know why)
   - Goal: avoid breaking MkDocs Material JS-driven toggle behavior
   ====================================================================== */
/* We intentionally do NOT override:
   - .md-sidebar--secondary transform logic
   - .md-toggle checkboxes
   - z-index stacking for overlays
   - any display:none rules in core CSS
*/


/* ======================================================================
   2) Header / Drawer Title (mobile)
   - Goal: ONLY vertical center for the drawer title line
   - Target: label.md-nav__title[for="__drawer"]
   ====================================================================== */
label.md-nav__title[for="__drawer"] {
  display: flex;
  align-items: center;
  min-height: var(--fs-header-h);
  padding: 0 16px 0 56px;                  /* keep space for back arrow */
  font-weight: 500;
  color: var(--fs-text);
}

/* Ensure the back arrow stays vertically centered (visual only) */
label.md-nav__title[for="__drawer"]::before {
  left: 16px;
  top: 50%;
  transform: translateY(-50%);
}


/* ======================================================================
   3) Primary navigation (left sidebar)
   - Goal:
     - Active link: purple + bold
     - Active item: left purple indicator bar (stable inset shadow)
   ====================================================================== */
.md-nav__link--active {
  color: var(--fs-primary);
  font-weight: 600;
  background: transparent;
}

/* Purple bar on the active item in the PRIMARY nav */
.md-sidebar--primary .md-nav__item--active > .md-nav__link {
  box-shadow: inset var(--fs-active-bar-w) 0 0 var(--fs-primary);
  padding-left: calc(1rem - var(--fs-active-bar-w));
}


/* ======================================================================
   4) TOC (secondary sidebar)
   - Goal:
     - Active TOC link highlighted + bold
     - Subtle bar indicator on active item
   ====================================================================== */
.md-sidebar--secondary .md-nav__link--active {
  color: var(--fs-primary);
  font-weight: 600;
  background: var(--fs-primary-soft);
  border-radius: var(--fs-radius);
}

/* Purple bar on the active item in the TOC */
.md-sidebar--secondary .md-nav__item--active > .md-nav__link {
  box-shadow: inset var(--fs-toc-bar-w) 0 0 var(--fs-primary);
}


/* ======================================================================
   5) Mobile ergonomics
   - Goal:
     - Ensure nav rows are vertically centered and consistent height
     - DO NOT change TOC structural layout/transform here
   ====================================================================== */
@media screen and (max-width: 59.9375em) {
  /* Keep titles clean (avoid inherited margins shifting layout) */
  .md-nav__title {
    margin: 0;
  }

  /* Row height + vertical centering (touch-safe) */
  .md-nav__link {
    min-height: var(--fs-row-h);
    display: flex;
    align-items: center;
  }
}


/* ======================================================================
   6) Future additions (RULES)
   ====================================================================== */
/*
   ✅ If you want to add more styling later:

   - Colors/theme => Section 0
   - Header height/padding => Section 2
   - Left nav active styles => Section 3
   - TOC active styles => Section 4
   - Mobile spacing/typography => Section 5

   ❌ Avoid:
   - Creating new scattered "patch" blocks
   - Using ::after to draw indicators (unstable across templates)
   - Overriding .md-sidebar--secondary { display/transform } unless necessary
*/
