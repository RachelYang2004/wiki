
/* ===============================
   Mobile TOC + Theme Stable v26
   Fix duplicate icon sources:
   - Use md-nav__link--active::after ONLY
   - Disable md-nav__icon::after on active row
   =============================== */

/* ---------- Theme color ---------- */
:root {
  --fs-accent: #8641A9;
}

/* ---------- Active nav text ---------- */
.md-nav__link--active {
  color: var(--fs-accent) !important;
  font-weight: 600;
}

/* ---------- Vertical accent bar (left) ---------- */
.md-nav__item--active > .md-nav__link {
  position: relative;
}

.md-nav__item--active > .md-nav__link::before {
  content: "";
  position: absolute;
  left: 0;
  top: 6px;
  bottom: 6px;
  width: 4px;
  border-radius: 2px;
  background: var(--fs-accent);
}

/* ---------- SINGLE source of active icon ---------- */
/* Draw icon at the correct position */
.md-nav__link--active::after {
  content: "";
  position: absolute;
  right: 16px;
  top: 50%;
  width: 22px;
  height: 22px;
  transform: translateY(-50%);
  background-color: var(--fs-accent);
  mask: var(--md-icon--toc) no-repeat center / contain;
  -webkit-mask: var(--md-icon--toc) no-repeat center / contain;
}

/* ---------- Disable duplicate icon source ---------- */
/* Prevent span.md-nav__icon from drawing anything on active row */
.md-nav__item--active .md-nav__icon::after,
.md-nav__item--active .md-nav__icon::before {
  content: none !important;
  display: none !important;
}

/* ---------- Mobile only ---------- */
@media (max-width: 59.9375em) {

  /* Ensure TOC sidebar visible when toggled */
  .md-sidebar--secondary {
    display: block;
  }

  /* Keep header height stable */
  .md-header {
    min-height: 56px;
  }
}
